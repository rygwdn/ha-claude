#!/usr/bin/with-contenv bashio
# shellcheck shell=bash

bashio::log.info "Starting Claude Code UI on port 3001..."

# Export environment variables for claudecodeui
export ANTHROPIC_API_KEY=$(bashio::config 'anthropic_api_key')
export SUPERVISOR_TOKEN="${SUPERVISOR_TOKEN}"
export PORT=3001
export NODE_ENV=production

# Database path for persistent storage
export DATABASE_PATH=/data/claudecodeui/auth.db

# Start claudecodeui (installed globally via npm)
exec claude-code-ui --port 3001
